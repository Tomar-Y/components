{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///digitalRoll.js","webpack:///webpack/bootstrap d30d71eee4581e7b73e6","webpack:///./src/lib/index.js","webpack:///./src/lib/digitalRoll.js"],"names":["root","factory","exports","module","define","amd","self","this","modules","__webpack_require__","moduleId","installedModules","i","l","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","__webpack_exports__","value","__WEBPACK_IMPORTED_MODULE_0__digitalRoll__","Digitalroll","install","Vue","window","$Digitalroll","DigitRoll","opts","container","document","querySelector","width","Error","style","overflow","rollHeight","parseInt","getComputedStyle","height","setWidth","roll","number","length","Array","join","forEach","querySelectorAll","item","currentNum","innerHTML","goalNum","gapNum","gapStr","j","cssText","setTimeout","str"],"mappings":"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","file":"digitalRoll.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"digitalRoll\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"digitalRoll\"] = factory();\n\telse\n\t\troot[\"digitalRoll\"] = factory();\n})(typeof self !== 'undefined' ? self : this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"digitalRoll\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"digitalRoll\"] = factory();\n\telse\n\t\troot[\"digitalRoll\"] = factory();\n})(typeof self !== 'undefined' ? self : this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"/dist/\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__digitalRoll__ = __webpack_require__(1);\n/**\r\n * Created by Tomar-Y on 17/07/2018\r\n */\n\nvar Digitalroll = {\n  install: function install(Vue) {\n    if (typeof window !== 'undefined' && window.Vue) {\n      Vue = window.Vue;\n    }\n    Vue.prototype.$Digitalroll = __WEBPACK_IMPORTED_MODULE_0__digitalRoll__[\"a\" /* default */];\n  }\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (Digitalroll);\n\n/***/ }),\n/* 1 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/**\r\n * H5数字滚动效果\r\n * @class DigitRoll\r\n * @desc 没有任何依赖, 只兼容webkit内核, 主要用于H5页面. 组件本身没有css, 如果需要修改默认样式 可以添加css样式修饰.\r\n * @param {object} opts 实例化参数\r\n * @param {string} opts.container 容器选择器 selector\r\n * @param {number} opts.width=1 数字的总宽度个数, 即要显示几位数\r\n * @example\r\n    HTML:\r\n    <div id=\"num-roll\"></div>\r\n * @example\r\n    js:\r\n    this.$Digitalroll({\r\n        container:'#num-roll',\r\n        width:9\r\n    })\r\n */\nfunction DigitRoll(opts) {\n    if (!(this instanceof DigitRoll)) return new DigitRoll(opts);\n\n    this.container = document.querySelector(opts.container); //容器\n    this.width = opts.width || 1;\n    if (!this.container) {\n        throw Error('no container');\n    }\n    this.container.style.overflow = 'hidden';\n    this.rollHeight = parseInt(getComputedStyle(this.container).height); //容器高度 也用于滚动间隔距离\n\n    if (this.rollHeight < 1) {\n        //只有容器的高度是必选样式  如果没有设置 那就给一个默认的\n        this.container.style.height = '20px';\n        this.rollHeight = 20;\n    }\n    this.setWidth();\n    this.roll(opts.number || 0);\n}\n/**  @lends DigitRoll */\nDigitRoll.prototype = {\n    /** \r\n     * 滚动数字\r\n     * @param {number} n 要滚动的数字\r\n     * @example\r\n        r1.roll(314159);\r\n        //定时更新\r\n        setInterval(function(){\r\n            r1.roll(314159);\r\n        },5000)\r\n     */\n    roll: function roll(n) {\n        var self = this;\n        this.number = parseInt(n) + '';\n        if (this.number.length < this.width) {\n            this.number = new Array(this.width - this.number.length + 1).join('0') + this.number;\n        } else if (this.number.length > this.width) {\n            this.width = this.number.length;\n            this.setWidth();\n        }\n        Array.prototype.forEach.call(this.container.querySelectorAll('.num'), function (item, i) {\n            var currentNum = parseInt(item.querySelector('div:last-child').innerHTML); //当前数字\n            var goalNum = parseInt(self.number[i]); //目标数字\n            var gapNum = 0; //数字滚动的间隔个数\n            var gapStr = '';\n            if (currentNum == goalNum) {\n                //数字没变 不处理\n                return;\n            } else if (currentNum < goalNum) {\n                // 比如数字从1到3   \n                gapNum = goalNum - currentNum;\n                for (var j = currentNum; j < goalNum + 1; j++) {\n                    gapStr += '<div>' + j + '</div>';\n                }\n            } else {\n                // 比如 数字从6到5  因为所有情况都是从下往上滚动 所以如果是6到5的话 要滚动9个数字\n                gapNum = 10 - currentNum + goalNum;\n                for (var j = currentNum; j < 10; j++) {\n                    gapStr += '<div>' + j + '</div>';\n                }\n                for (var j = 0; j < goalNum + 1; j++) {\n                    gapStr += '<div>' + j + '</div>';\n                }\n            }\n            item.style.cssText += '-webkit-transition-duration:0s;-webkit-transform:translateY(0)'; //重置位置\n            item.innerHTML = gapStr;\n            setTimeout(function () {\n                item.style.cssText += '-webkit-transition-duration:1s;-webkit-transform:translateY(-' + self.rollHeight * gapNum + 'px)';\n            }, 50);\n        });\n    },\n    /** \r\n     * 重置宽度\r\n     * @desc 一般用不到这个方法  \r\n     * @param {number} n 宽度 即数字位数\r\n     * @example\r\n        r1.setWidth(10);\r\n     */\n    setWidth: function setWidth(n) {\n        n = n || this.width;\n        var str = '';\n        for (var i = 0; i < n; i++) {\n            str += '<div class=\"num\" style=\"float:left;height:100%;line-height:' + this.rollHeight + 'px\"><div>0</div></div>';\n        }\n        this.container.innerHTML = str;\n    }\n};\n/* harmony default export */ __webpack_exports__[\"a\"] = (DigitRoll);\n\n/***/ })\n/******/ ]);\n});\n\n\n// WEBPACK FOOTER //\n// digitalRoll.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/dist/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap d30d71eee4581e7b73e6","/**\r\n * Created by Tomar-Y on 17/07/2018\r\n */\r\nimport digitalRoll from './digitalRoll'\r\nconst Digitalroll = {\r\n  install: function (Vue) {\r\n    if (typeof window !== 'undefined' && window.Vue) {\r\n      Vue = window.Vue\r\n    }\r\n    Vue.prototype.$Digitalroll = digitalRoll\r\n  }\r\n}\r\nexport default Digitalroll\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/index.js","/**\r\n * H5数字滚动效果\r\n * @class DigitRoll\r\n * @desc 没有任何依赖, 只兼容webkit内核, 主要用于H5页面. 组件本身没有css, 如果需要修改默认样式 可以添加css样式修饰.\r\n * @param {object} opts 实例化参数\r\n * @param {string} opts.container 容器选择器 selector\r\n * @param {number} opts.width=1 数字的总宽度个数, 即要显示几位数\r\n * @example\r\n    HTML:\r\n    <div id=\"num-roll\"></div>\r\n * @example\r\n    js:\r\n    this.$Digitalroll({\r\n        container:'#num-roll',\r\n        width:9\r\n    })\r\n */\r\nfunction DigitRoll(opts) {\r\n    if (!(this instanceof DigitRoll)) return new DigitRoll(opts);\r\n\r\n    this.container = document.querySelector(opts.container); //容器\r\n    this.width = opts.width || 1;\r\n    if (!this.container) {\r\n        throw Error('no container');\r\n    }\r\n    this.container.style.overflow='hidden';\r\n    this.rollHeight = parseInt(getComputedStyle(this.container).height); //容器高度 也用于滚动间隔距离\r\n\r\n    if (this.rollHeight<1) {//只有容器的高度是必选样式  如果没有设置 那就给一个默认的\r\n        this.container.style.height = '20px';\r\n        this.rollHeight = 20;\r\n    }\r\n    this.setWidth();\r\n    this.roll(opts.number || 0)\r\n}\r\n/**  @lends DigitRoll */\r\nDigitRoll.prototype = {\r\n    /** \r\n     * 滚动数字\r\n     * @param {number} n 要滚动的数字\r\n     * @example\r\n        r1.roll(314159);\r\n        //定时更新\r\n        setInterval(function(){\r\n            r1.roll(314159);\r\n        },5000)\r\n     */\r\n    roll: function (n) {\r\n        var self = this;\r\n        this.number = parseInt(n)+'';\r\n        if (this.number.length < this.width) {\r\n            this.number = new Array(this.width - this.number.length + 1).join('0') + this.number;\r\n        } else if (this.number.length > this.width) {\r\n            this.width = this.number.length;\r\n            this.setWidth();\r\n        }\r\n        Array.prototype.forEach.call(this.container.querySelectorAll('.num'), function (item,i) {\r\n            var currentNum = parseInt(item.querySelector('div:last-child').innerHTML);//当前数字\r\n            var goalNum = parseInt(self.number[i]);//目标数字\r\n            var gapNum = 0; //数字滚动的间隔个数\r\n            var gapStr = '';\r\n            if (currentNum == goalNum) { //数字没变 不处理\r\n                return ;\r\n            } else if(currentNum < goalNum) { // 比如数字从1到3   \r\n                gapNum = goalNum - currentNum;\r\n                for (var j = currentNum; j < goalNum+1; j++) {\r\n                    gapStr+='<div>'+j+'</div>'\r\n                }\r\n            } else {// 比如 数字从6到5  因为所有情况都是从下往上滚动 所以如果是6到5的话 要滚动9个数字\r\n                gapNum=10-currentNum+goalNum;\r\n                for (var j=currentNum; j<10; j++) {\r\n                    gapStr+='<div>'+j+'</div>'\r\n                }\r\n                for (var j=0; j<goalNum+1; j++) {\r\n                    gapStr+='<div>'+j+'</div>'\r\n                }\r\n            }\r\n            item.style.cssText += '-webkit-transition-duration:0s;-webkit-transform:translateY(0)';//重置位置\r\n            item.innerHTML = gapStr;\r\n            setTimeout(function () {\r\n                item.style.cssText+='-webkit-transition-duration:1s;-webkit-transform:translateY(-'+self.rollHeight*gapNum+'px)';\r\n            },50)\r\n        })\r\n    },\r\n    /** \r\n     * 重置宽度\r\n     * @desc 一般用不到这个方法  \r\n     * @param {number} n 宽度 即数字位数\r\n     * @example\r\n        r1.setWidth(10);\r\n     */\r\n    setWidth:function (n) {\r\n        n=n||this.width;\r\n        var str='';\r\n        for (var i = 0; i < n; i++) {\r\n            str+='<div class=\"num\" style=\"float:left;height:100%;line-height:'+this.rollHeight+'px\"><div>0</div></div>';\r\n        }\r\n        this.container.innerHTML = str;\r\n    }\r\n}\r\nexport default DigitRoll\n\n\n// WEBPACK FOOTER //\n// ./src/lib/digitalRoll.js"],"sourceRoot":""}