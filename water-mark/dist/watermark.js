!function(t,i){"object"==typeof exports&&"object"==typeof module?module.exports=i():"function"==typeof define&&define.amd?define("waterMark",[],i):"object"==typeof exports?exports.waterMark=i():t.waterMark=i()}("undefined"!=typeof self?self:this,function(){return function(t){function i(o){if(e[o])return e[o].exports;var n=e[o]={i:o,l:!1,exports:{}};return t[o].call(n.exports,n,n.exports,i),n.l=!0,n.exports}var e={};return i.m=t,i.c=e,i.d=function(t,e,o){i.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:o})},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,i){return Object.prototype.hasOwnProperty.call(t,i)},i.p="/dist/",i(i.s=0)}([function(t,i,e){"use strict";function o(t,i){if(!(this instanceof o))return new o(t,i);(!i||Object.keys(i).length<1)&&(i={}),this._init(t,i),this._resizeSpace(),this._fillContent(),this._bindEvent()}Object.defineProperty(i,"__esModule",{value:!0}),o.prototype={_init:function(t,i){this.options={node:t,text:i.text?i.text:"",opacity:i.opacity?i.opacity:.15,startX:i.startX?i.startX:0,startY:i.startY?i.startY:15,xSpace:100,ySpace:50,rows:0,cols:0,markWidth:i.markWidth?i.markWidth:210,markHeight:i.markHeight?i.markHeight:80,angle:i.angle?i.angle:20,fontSize:i.fontSize?i.fontSize:12,color:i.color?i.color:"#000",fontFamily:i.fontFamily?i.fontFamily:"微软雅黑",imageSrc:i.imageSrc?i.imageSrc:""},t.style.overflow="hidden"},_resizeSpace:function(){this.pageWidth=Math.max(this.options.node.scrollWidth,this.options.node.clientWidth),this.pageHeight=1+Math.max(this.options.node.scrollHeight,this.options.node.clientHeight),this.options.rows=Math.ceil((this.pageHeight-this.options.startY)/(this.options.markHeight+this.options.ySpace)),this.options.ySpace=Math.floor((this.pageHeight-this.options.startY)/this.options.rows-this.options.markHeight),this.options.cols=1+Math.ceil((this.pageWidth-this.options.startX)/(this.options.markWidth+this.options.xSpace)),this.options.xSpace=Math.floor((this.pageWidth-this.options.startX)/this.options.cols-this.options.markWidth)},_fillContent:function(){for(var t=document.createDocumentFragment(),i=0;i<this.options.rows;i++)for(var e=i*(this.options.markHeight+this.options.ySpace)+this.options.startY,o=0;o<this.options.cols;o++){var n=o*(this.options.markWidth+this.options.xSpace)+this.options.startX;t.appendChild(this._createWaterMark(n,e))}this.markContainer=document.createElement("div"),this.markContainer.className="water-mark-container",this.markContainer.appendChild(t),this.options.node.appendChild(this.markContainer)},_createWaterMark:function(t,i){var e=document.createElement("div");return e.className="water-mark-item",this.options.imageSrc?e.innerHTML="<div>"+this.options.text+"</div><img src='"+this.options.imageSrc+"'/>":e.appendChild(document.createTextNode(this.options.text)),e.style.webkitTransform="rotate(-"+this.options.angle+"deg)",e.style.MozTransform="rotate(-"+this.options.angle+"deg)",e.style.msTransform="rotate(-"+this.options.angle+"deg)",e.style.OTransform="rotate(-"+this.options.angle+"deg)",e.style.transform="rotate(-"+this.options.angle+"deg)",e.style.position="absolute",e.style.left=t+"px",e.style.top=i+"px",e.style.overflow="hidden",e.style.zIndex="99999",e.style.width=this.options.markWidth+"px",e.style.height=this.options.markHeight+"px",e.style.display="block",e.style.pointerEvents="none",e.style.opacity=this.options.opacity,e.style.textAlign="center",e.style.fontFamily=this.options.fontFamily,e.style.fontSize=this.options.fontSize,e.style.color=this.options.color,e},_bindEvent:function(){var t=this;window.onresize=function(){t.refresh()}},refresh:function(){this.markContainer&&(this.markContainer.innerHTML=""),this._init(this.options.node,this.options),this._resizeSpace(),this._fillContent()},show:function(){this.markContainer.style.display="block"},hide:function(){this.markContainer.style.display="none"}};var n={};n.install=function(t,i){t.prototype.$waterMark=o},i.default=n}])});
//# sourceMappingURL=watermark.js.map